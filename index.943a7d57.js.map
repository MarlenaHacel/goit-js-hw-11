{"mappings":"AAAO,MAGMA,EAAuB,CAClCC,IAHoB,qCAIpBC,SAAU,KACVC,WAAY,QACZC,YAAa,aACbC,WAAY,QCNCC,eAAAC,GAA2BC,YAAEA,EAAc,GAAEC,KAAEA,EAAO,MACnE,IACE,MAAMC,EAAc,IAAIC,gBAAgB,IACnCX,E,KACHS,EACAG,EAAGJ,IAECK,QAAiBC,MAAM,2BAAcJ,KAC3C,IAAKG,EAASE,GAAI,CAChB,GAAwB,MAApBF,EAASG,OACX,OAEF,MAAO,CAAEC,MAAOJ,EAASG,O,CAE3B,MAAQE,KAAMC,SAAiBN,EAASO,OACxC,OAAOD,C,CACP,MAAOE,GACP,MAAO,CAAEJ,MAAOI,EAAEC,W,ECjBtB,MAAMC,EAAkBC,GACf,iDAESA,EAAMC,sBAAsBD,EAAME,sGAEJF,EAAQG,kEACHH,EAAMI,gEACPJ,EAAMK,iEACRL,EAAMM,wCAYjDxB,eAAeyB,GAAWvB,YAAEA,EAAWC,KAAEA,IAC9C,MAAMU,QAAeZ,EAAY,C,YAAEC,E,KAAaC,IAC5CU,EAAOF,MACTe,MAAMb,EAAOF,OAXjB,UAAoBE,OAAEA,EAAMV,KAAEA,IAC5B,MAAMwB,EAAiBC,SAASC,cAAc,YACjC,MAAT1B,IACFwB,EAAeG,UAAY,IAE7B,MAAMC,EAAWlB,EAAOmB,IAAIf,GAC5BU,EAAeG,WAAaC,EAASE,KAAK,G,CAQ1CC,CAAW,C,OAAErB,E,KAAQV,G,CC1BvB,MAAMgC,EAAaP,SAASC,cAAc,gBACpCO,EAAUR,SAASC,cAAc,YAEvC,IAAIQ,EAAO,EAWJrC,eAAesC,IACpBD,GAAQ,EACR,MAAMnC,EAAciC,EAAWN,cAC7B,6BACAU,YACId,EAAW,C,YAAEvB,G,CCnBrB,MAAMsC,EAAaZ,SAASC,cAAc,gBACpCY,EAAcb,SAASC,cAAc,cAC3CW,EAAWE,iBAAiB,UDGrB1C,eAA+Be,GACpCA,EAAE4B,iBACFP,EAAQN,UAAY,GACpB,MAAM5B,EAAciC,EAAWN,cAC7B,6BACAU,YACId,EAAW,C,YAAEvB,EAAaC,KAAM,K,ICPxCmC,IACAG,EAAYC,iBAAiB,QAASJ","sources":["src/config.js","src/gallery-api.js","src/ui.js","src/handlers.js","src/index.js"],"sourcesContent":["export const apiPath = 'https://pixabay.com/api';\nexport const apiKey = '39384649-848b8f3f94b47c16df36e9a5c';\n\nexport const defaultPixabayParams = {\n  key: apiKey,\n  per_page: '40',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: 'true',\n};\n","import { apiPath, defaultPixabayParams } from './config';\nimport axios from 'axios';\nexport default async function pingPixabay({ searchQuery = '', page = '1' }) {\n  try {\n    const queryString = new URLSearchParams({\n      ...defaultPixabayParams,\n      page,\n      q: searchQuery,\n    });\n    const response = await fetch(`${apiPath}?${queryString}`);\n    if (!response.ok) {\n      if (response.status === 400) {\n        return;\n      }\n      return { error: response.status };\n    }\n    const { hits: images } = await response.json();\n    return images;\n  } catch (e) {\n    return { error: e.toString() };\n  }\n}\n","import pingPixabay from './gallery-api';\n\nconst getImageElement = image => {\n  return `\n  <div class=\"photo-card\">\n      <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\n      <div class=\"info\">\n          <p class=\"info-item\"><b>Lubię to:</b> ${image.likes}</p>\n          <p class=\"info-item\"><b>Wyświetlenia:</b> ${image.views}</p>\n          <p class=\"info-item\"><b>Komentarze:</b> ${image.comments}</p>\n          <p class=\"info-item\"><b>Pobrania:</b> ${image.downloads}</p>\n      </div>\n  </div>`;\n};\nfunction drawImages({ images, page }) {\n  const imageContainer = document.querySelector('.gallery');\n  if (page === '1') {\n    imageContainer.innerHTML = '';\n  }\n  const children = images.map(getImageElement);\n  imageContainer.innerHTML += children.join('');\n}\nexport async function loadImages({ searchQuery, page }) {\n  const images = await pingPixabay({ searchQuery, page });\n  if (images.error) {\n    alert(images.error);\n    return;\n  }\n  drawImages({ images, page });\n  return;\n}\n","import { loadImages } from './ui.js';\n\nconst searchForm = document.querySelector('#search-form');\nconst gallery = document.querySelector('.gallery');\n\nlet page = 1;\n\nexport async function searchForImages(e) {\n  e.preventDefault();\n  gallery.innerHTML = '';\n  const searchQuery = searchForm.querySelector(\n    'input[name=\"searchQuery\"]'\n  ).value;\n  await loadImages({ searchQuery, page: '1' });\n}\n\nexport async function loadMoreImages() {\n  page += 1;\n  const searchQuery = searchForm.querySelector(\n    'input[name=\"searchQuery\"]'\n  ).value;\n  await loadImages({ searchQuery });\n}\n","import { searchForImages, loadMoreImages } from './handlers.js';\nimport axios from 'axios';\nconst searchForm = document.querySelector('#search-form');\nconst loadMoreBtn = document.querySelector('.load-more');\nsearchForm.addEventListener('submit', searchForImages);\n\nloadMoreImages();\nloadMoreBtn.addEventListener('click', loadMoreImages);\n"],"names":["$3449b09e79cd57cb$export$b2715adeff38e66d","key","per_page","image_type","orientation","safesearch","async","$b6d38715e39c009f$export$2e2bcd8739ae039","searchQuery","page","queryString","URLSearchParams","q","response","fetch","ok","status","error","hits","images","json","e","toString","$edb58922828318e9$var$getImageElement","image","webformatURL","tags","likes","views","comments","downloads","$edb58922828318e9$export$211b51324b5b532c","alert","imageContainer","document","querySelector","innerHTML","children","map","join","$edb58922828318e9$var$drawImages","$1ebd615620b2dc52$var$searchForm","$1ebd615620b2dc52$var$gallery","$1ebd615620b2dc52$var$page","$1ebd615620b2dc52$export$62eb1b0d7c288c68","value","$1f0dc3b9307be026$var$searchForm","$1f0dc3b9307be026$var$loadMoreBtn","addEventListener","preventDefault"],"version":3,"file":"index.943a7d57.js.map"}